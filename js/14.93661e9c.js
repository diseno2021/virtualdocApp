(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{"0453":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("q-inner-loading",{attrs:{showing:t.cargando}},[e("q-spinner-cube",{attrs:{size:"3rem",color:"primary"}}),e("span",{staticClass:" text-primary\n      text-uppercase\n      text-overline\n      text-weight-bold"},[t._v("Cargando informacion del paciente")])],1),0==t.cargando&&null==t.paciente?e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col-12 text-h5 q-my-xl text-center"},[t._v("\n      No existe el paciente con id: "+t._s(t.$router.currentRoute.params.id)+"\n    ")]),e("div",{staticClass:"col-auto"},[e("q-btn",{attrs:{icon:"people",color:"secondary",to:"/"}},[t._v("Ver Pacientes")])],1)]):0==t.cargando&&"No pertece al medico"==t.paciente?e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col-12 text-h5 q-my-xl text-center"},[t._v("\n      El paciente con id: "+t._s(t.$router.currentRoute.params.id)+" , no pertece a su lista de pacientes\n    ")]),e("div",{staticClass:"col-auto"},[e("q-btn",{attrs:{icon:"people",color:"secondary",to:"/"}},[t._v("Ver Pacientes")])],1)]):0==t.cargando?e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[null!==t.paciente?e("InformacionPersonal",{ref:"refInformacionPersonal",attrs:{id:"informacion-personal",paciente:t.paciente},on:{guardarInformacion:t.guardarInformacion}}):t._e()],1)]),e("q-separator"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-6"},[null!==t.paciente?e("Antecedentes",{ref:"refAntecedentes",attrs:{id:"antecedentes",paciente:t.paciente}}):t._e()],1),e("div",{staticClass:"col-12 col-md-6"},[null!==t.paciente?e("Alergias",{ref:"refAlergias",attrs:{id:"alergias",paciente:t.paciente}}):t._e()],1)]),e("q-separator"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 col-md-6"},[null!==t.paciente?e("MedicamentosPermanentes",{ref:"refMedicamentosPermanentes",attrs:{id:"medicamentos-permanentes",paciente:t.paciente}}):t._e()],1),e("div",{staticClass:"col-12 col-md-6"},[null!==t.paciente?e("EnfermedadesCronicas",{ref:"refEnfermedadesCronicas",attrs:{id:"enfermedades-cronicas",paciente:t.paciente}}):t._e()],1)]),e("q-separator"),e("Consultas",{attrs:{id:"consultas",consultas:t.consultasPaciente}}),e("q-separator"),e("Recetas",{attrs:{id:"recetas",consultas:t.consultasPaciente}}),e("q-separator"),e("Examenes",{attrs:{id:"examenes",idPaciente:this.$router.currentRoute.params.id}}),e("q-separator"),e("div",{staticClass:"row  justify-end q-mt-md"},[e("div",{staticClass:"col-12 col-sm-6 col-lg-4"},[e("q-btn",{staticClass:"q-mx-sm",attrs:{outline:"",color:"primary",icon:"home",label:"Inicio",to:"/"}}),e("q-btn",{staticClass:"q-mx-sm",attrs:{outline:"",color:"secondary",icon:"save",label:"Guardar"},on:{click:t.guardarInformacion}})],1)])],1):t._e()],1)},i=[],n=(e("a79d"),e("26e9"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"q-ma-md"},[e("div",{staticClass:"row items-center"},[t._m(0),e("div",{staticClass:"col-12 col-sm-5 justify-between"},[e("q-btn",{staticClass:"q-mx-sm",attrs:{outline:"",color:"primary",icon:"home",label:"Inicio",to:"/"}}),e("q-btn",{staticClass:"q-mx-sm",attrs:{outline:"",color:"secondary",icon:"save",label:"Guardar"},on:{click:t.guardarInformacion}})],1)]),e("div",{staticClass:"row q-mt-md"},[e("div",{staticClass:"col-12 q-mt-md q-px-md"},[e("q-input",{attrs:{label:"Nombre completo"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"person"}})]},proxy:!0}]),model:{value:t.paciente.nombre,callback:function(a){t.$set(t.paciente,"nombre",a)},expression:"paciente.nombre"}})],1)]),e("div",{staticClass:"row justify-between q-mt-md"},[e("div",{staticClass:"col-12  col-sm-6 q-px-md "},[e("q-input",{scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[e("q-popup-proxy",{attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("q-date",{attrs:{mask:"DD/MM/YYYY",locale:t.myLocale},model:{value:t.paciente.fechaNacimiento,callback:function(a){t.$set(t.paciente,"fechaNacimiento",a)},expression:"paciente.fechaNacimiento"}},[e("div",{staticClass:"row items-center justify-end"},[e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"Cerrar",color:"primary",flat:""}})],1)])],1)],1)]},proxy:!0}]),model:{value:t.paciente.fechaNacimiento,callback:function(a){t.$set(t.paciente,"fechaNacimiento",a)},expression:"paciente.fechaNacimiento"}})],1),e("div",{staticClass:"col-12 col-sm-6 q-px-md "},[e("q-input",{attrs:{label:"Edad"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"cake"}})]},proxy:!0}]),model:{value:t.edad,callback:function(a){t.edad=a},expression:"edad"}})],1)]),e("div",{staticClass:"row justify-between q-mt-md"},[e("div",{staticClass:"col-12 col-sm-6 q-px-md"},[e("div",{staticClass:"row justify-between"},[e("div",{staticClass:"col-6 col-sm-5"},[e("q-radio",{attrs:{val:"Masculino",label:"Masculino"},model:{value:t.paciente.genero,callback:function(a){t.$set(t.paciente,"genero",a)},expression:"paciente.genero"}})],1),e("div",{staticClass:"col-6 col-sm-5 q-px-md "},[e("q-radio",{attrs:{val:"Femenino",label:"Femenino"},model:{value:t.paciente.genero,callback:function(a){t.$set(t.paciente,"genero",a)},expression:"paciente.genero"}})],1)])]),e("div",{staticClass:"col-12 col-sm-6 q-px-md"},[e("q-input",{attrs:{label:"Tipo de sangre"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"bloodtype"}})]},proxy:!0}]),model:{value:t.paciente.tipoSangre,callback:function(a){t.$set(t.paciente,"tipoSangre",a)},expression:"paciente.tipoSangre"}})],1)]),e("div",{staticClass:"row justify-between q-mt-md"},[e("div",{staticClass:"col-12 col-md-6 "},[e("div",{staticClass:"row q-mb-md  justify-between q-px-md"},[e("div",{staticClass:"col-8"},[e("q-input",{attrs:{label:"Nuevo Peso (libras)",type:"number"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"monitor_weight"}})]},proxy:!0},{key:"after",fn:function(){return[e("q-btn",{staticClass:"q-mt-md",attrs:{disable:null==t.nuevoPeso||""==t.nuevoPeso,flat:"",label:"Agregar",color:"primary"},on:{click:t.agregarPeso}})]},proxy:!0}]),model:{value:t.nuevoPeso,callback:function(a){t.nuevoPeso=a},expression:"nuevoPeso"}})],1),e("div",{staticClass:"col-4"},[e("q-btn",{staticClass:"q-mt-md",attrs:{color:"primary",label:"Pesos",flat:"",icon:"expand_more"}},[e("q-menu",{attrs:{"max-height":"200px"}},t._l(t.paciente.peso,(function(a){return e("q-item",{key:a,staticStyle:{"min-width":"100px"}},[e("q-item-section",[t._v("\n                  "+t._s(a)+" lbs\n                ")])],1)})),1)],1)],1)]),e("div",{staticClass:"q-px-md"},[t.datosGraficaPeso?e("Grafica",{attrs:{datosGrafica:t.datosGraficaPeso,numerosGrafica:t.numerosGraficaPeso,label:"Peso"}}):t._e()],1)]),e("div",{staticClass:"col-12 col-md-6 "},[e("div",{staticClass:"row q-mb-md  justify-between q-px-md"},[e("div",{staticClass:"col-8"},[e("q-input",{attrs:{label:"Nueva estatura (cms)",type:"number"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"accessibility"}})]},proxy:!0},{key:"after",fn:function(){return[e("q-btn",{staticClass:"q-mt-md",attrs:{disable:null==t.nuevaEstatura||""==t.nuevaEstatura,flat:"",label:"Agregar",color:"primary"},on:{click:t.agregarEstatura}})]},proxy:!0}]),model:{value:t.nuevaEstatura,callback:function(a){t.nuevaEstatura=a},expression:"nuevaEstatura"}})],1),e("div",{staticClass:"col-4"},[e("q-btn",{staticClass:"q-mt-md",attrs:{color:"primary",label:"Estaturas",flat:"",icon:"expand_more"}},[e("q-menu",{attrs:{"max-height":"200px"}},t._l(t.paciente.estatura,(function(a){return e("q-item",{key:a,staticStyle:{"min-width":"100px"}},[e("q-item-section",[t._v("\n                  "+t._s(a)+" cms\n                ")])],1)})),1)],1)],1)]),e("div",{staticClass:"q-px-md"},[t.datosGraficaEstatura?e("Grafica",{attrs:{datosGrafica:t.datosGraficaEstatura,numerosGrafica:t.numerosGraficaEstatura,label:"Estatura"}}):t._e()],1)])]),e("div",{staticClass:"col-md-12 q-mt-md q-px-md"},[e("q-input",{attrs:{label:"Dirección"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"directions"}})]},proxy:!0}]),model:{value:t.paciente.direccion,callback:function(a){t.$set(t.paciente,"direccion",a)},expression:"paciente.direccion"}})],1),e("div",{staticClass:"row justify-between"},[e("div",{staticClass:"col-12 col-sm-6 q-mt-md q-px-md"},[e("q-input",{attrs:{label:"Teléfono",mask:"#### - ####"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"phone"}})]},proxy:!0}]),model:{value:t.paciente.telefono,callback:function(a){t.$set(t.paciente,"telefono",a)},expression:"paciente.telefono"}})],1),e("div",{staticClass:"col-12 col-sm-6 q-mt-md q-px-md"},[e("q-input",{attrs:{label:"Whatsapp",mask:"#### - ####"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"smartphone"}})]},proxy:!0}]),model:{value:t.paciente.whatsapp,callback:function(a){t.$set(t.paciente,"whatsapp",a)},expression:"paciente.whatsapp"}})],1)]),e("div",{staticClass:"row justify-between"},[e("div",{staticClass:"col-12 col-md-6 q-mt-md q-px-md"},[e("q-input",{attrs:{label:"Email"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.paciente.email,callback:function(a){t.$set(t.paciente,"email",a)},expression:"paciente.email"}})],1),e("div",{staticClass:"col-12 col-md-6 q-mt-md q-px-md"},[e("q-input",{attrs:{label:"DUI",mask:"########-#"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"credit_card"}})]},proxy:!0}]),model:{value:t.paciente.dui,callback:function(a){t.$set(t.paciente,"dui",a)},expression:"paciente.dui"}})],1)]),e("div",{staticClass:"col-md-12 q-my-md q-px-md"},[e("q-input",{attrs:{label:"Caso de emergencia"},scopedSlots:t._u([{key:"prepend",fn:function(){return[e("q-icon",{attrs:{name:"warning"}})]},proxy:!0}]),model:{value:t.paciente.enCasoEmergencia,callback:function(a){t.$set(t.paciente,"enCasoEmergencia",a)},expression:"paciente.enCasoEmergencia"}})],1)])}),o=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"col-12 col-sm-7 justify-between"},[e("h4",{staticClass:"text-h4"},[t._v("Información Personal")])])}],c=e("bd4c"),r=e("0603"),l=e("c4af"),d={data(){return{nuevoPeso:null,nuevaEstatura:null,datosGraficaEstatura:null,numerosGraficaEstatura:[],datosGraficaPeso:null,numerosGraficaPeso:[],myLocale:{days:"Domingo_Lunes_Martes_Miércoles_Jueves_Viernes_Sábado".split("_"),daysShort:"Dom_Lun_Mar_Mié_Jue_Vie_Sáb".split("_"),months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:"Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_"),firstDayOfWeek:1}}},props:["paciente"],components:{BannerPrincipal:r["a"],Grafica:l["a"]},computed:{fechaNacimiento(){return c["b"].formatDate(this.paciente.fechaNacimiento,"YYYY-MM-DD")},edad(){var t=new Date,a=new Date(this.paciente.fechaNacimiento),e=t.getFullYear()-a.getFullYear(),s=t.getMonth()-a.getMonth();return(s<0||0===s&&t.getDate()<a.getDate())&&e--,e}},methods:{guardarInformacion(){this.$emit("guardarInformacion")},cargarDatosGrafica(){this.datosGraficaEstatura=null,this.numerosGraficaEstatura=[],this.datosGraficaPeso=null,this.numerosGraficaPeso=[],this.datosGraficaEstatura=this.paciente.estatura.length>5?this.paciente.estatura.slice(-5):this.paciente.estatura,this.datosGraficaPeso=this.paciente.peso.length>5?this.paciente.peso.slice(-5):this.paciente.peso;for(let t=1;t<=this.datosGraficaEstatura.length;t++)this.numerosGraficaEstatura.push(t);for(let t=1;t<=this.datosGraficaPeso.length;t++)this.numerosGraficaPeso.push(t)},agregarPeso(){null!==this.nuevoPeso&&""!==this.nuevoPeso&&(this.paciente.peso.push(parseFloat(this.nuevoPeso)),this.nuevoPeso=null,this.cargarDatosGrafica())},agregarEstatura(){null!==this.nuevaEstatura&&""!==this.nuevaEstatura&&(this.paciente.estatura.push(parseFloat(this.nuevaEstatura)),this.nuevaEstatura=null,this.cargarDatosGrafica())}},mounted(){this.cargarDatosGrafica()}},m=d,p=e("2877"),u=e("9c40"),f=e("27f9"),h=e("0016"),b=e("7cbe"),v=e("52ee"),g=e("3786"),x=e("4e73"),C=e("66e5"),q=e("4074"),_=e("7f67"),P=e("eebe"),y=e.n(P),w=Object(p["a"])(m,n,o,!1,null,"5053e2c9",null),S=w.exports;y()(w,"components",{QBtn:u["a"],QInput:f["a"],QIcon:h["a"],QPopupProxy:b["a"],QDate:v["a"],QRadio:g["a"],QMenu:x["a"],QItem:C["a"],QItemSection:q["a"]}),y()(w,"directives",{ClosePopup:_["a"]});var k=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"q-ma-md"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h4",{staticClass:"text-h4"},[t._v("Antecedentes")]),e("q-editor",{attrs:{toolbar:[["bold","italic","strike","underline"],[{label:t.$q.lang.editor.fontSize,icon:t.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]}]],"min-height":"8rem","max-height":"8rem"},model:{value:t.paciente.antecedentes,callback:function(a){t.$set(t.paciente,"antecedentes",a)},expression:"paciente.antecedentes"}})],1)])])},E=[],D={data(){return{}},props:["paciente"],components:{BannerPrincipal:r["a"]}},$=D,z=e("d66b"),M=Object(p["a"])($,k,E,!1,null,"3f5cbdb8",null),I=M.exports;y()(M,"components",{QEditor:z["a"]});var Q=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"q-ma-md"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("h4",{staticClass:"text-h4"},[t._v("Alergias")]),e("q-editor",{attrs:{toolbar:[["bold","italic","strike","underline"],[{label:t.$q.lang.editor.fontSize,icon:t.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]}]],"min-height":"8rem","max-height":"8rem"},model:{value:t.paciente.alergias,callback:function(a){t.$set(t.paciente,"alergias",a)},expression:"paciente.alergias"}})],1)])])},G=[],j={props:["paciente"]},F=j,N=Object(p["a"])(F,Q,G,!1,null,"5133bbf7",null),Y=N.exports;y()(N,"components",{QEditor:z["a"]});var A=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"q-ma-md"},[t._m(0),e("q-editor",{attrs:{toolbar:[["bold","italic","strike","underline"],[{label:t.$q.lang.editor.fontSize,icon:t.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]}]],"min-height":"8rem","max-height":"8rem"},model:{value:t.paciente.medicamentosPermanentes,callback:function(a){t.$set(t.paciente,"medicamentosPermanentes",a)},expression:"paciente.medicamentosPermanentes"}})],1)},R=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("h4",{staticClass:"text-h4"},[t._v("Medicamentos Permanentes")])])}],L={props:{paciente:Object}},T=L,O=Object(p["a"])(T,A,R,!1,null,null,null),H=O.exports;y()(O,"components",{QEditor:z["a"]});var B=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"q-ma-md"},[t._m(0),t.consultas.length>0?e("div",{staticClass:"row"},t._l(t.consultasPagina,(function(a,s){return e("div",{key:a.id,staticClass:"col-12 col-md-6 q-pa-sm"},[e("q-card",{attrs:{flat:"",bordered:""}},[e("q-expansion-item",{scopedSlots:t._u([{key:"header",fn:function(){return[e("q-item-section",{staticClass:"text-body2"},[e("span",[t._v(" "+t._s(t.formatoFecha(a.fecha))+" - "),e("strong",[t._v(" Motivo: "+t._s(a.motivoConsulta)+" ")])])])]},proxy:!0}],null,!0)},[e("q-separator"),e("div",{staticClass:"row"},[e("div",{staticClass:"col-auto q-py-none q-pl-sm q-pr-none"},[e("q-tabs",{staticClass:"text-primary q-px-none",attrs:{dense:"",vertical:"","no-caps":"",align:"left"},model:{value:t.tab[s],callback:function(a){t.$set(t.tab,s,a)},expression:"tab[index]"}},[e("q-tab",{attrs:{name:"sintomas"+s,label:"Sintomas"}}),e("q-tab",{attrs:{name:"ef"+s,label:"E. Fisica"}}),e("q-tab",{attrs:{name:"diagnostico"+s,label:"Diagnostico"}}),e("q-tab",{attrs:{name:"receta"+s,label:"Receta"}}),e("q-tab",{attrs:{name:"examenes"+s,label:"Examenes"}})],1)],1),e("q-separator",{attrs:{vertical:"",inset:"",color:"primary"}}),e("div",{staticClass:"col q-pl-sm q-pr-xs q-py-xs"},[e("q-scroll-area",{staticStyle:{height:"170px"}},[e("q-tab-panels",{attrs:{animated:"",swipeable:"",vertical:"","transition-prev":"jump-up","transition-next":"jump-up"},model:{value:t.tab[s],callback:function(a){t.$set(t.tab,s,a)},expression:"tab[index]"}},[e("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"sintomas"+s}},[e("div",{staticClass:"text-h6 q-mb-md"},[t._v("Sintomas")]),e("div",{staticClass:"text-body2",domProps:{innerHTML:t._s(a.sintomas)}})]),e("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"ef"+s}},[e("div",{staticClass:"text-h6 q-mb-md"},[t._v("Exploracion Fisica")]),e("div",{staticClass:"text-body2",domProps:{innerHTML:t._s(a.exploracionFisica)}})]),e("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"diagnostico"+s}},[e("div",{staticClass:"text-h6 q-mb-md"},[t._v("Diagnostico")]),e("div",{staticClass:"text-body2",domProps:{innerHTML:t._s(a.diagnostico)}})]),e("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"receta"+s}},[e("div",{staticClass:"text-h6 q-mb-md"},[t._v("Receta")]),e("div",{staticClass:"text-body2",domProps:{innerHTML:t._s(a.receta)}})]),e("q-tab-panel",{staticClass:"q-pa-none",attrs:{name:"examenes"+s}},[e("div",{staticClass:"text-h6 q-mb-md"},[t._v("Examenes")]),e("div",{staticClass:"text-body2",domProps:{innerHTML:t._s(a.examenes)}})])],1)],1)],1),e("q-separator",{staticClass:"gt-md",attrs:{vertical:""}}),e("q-separator",{staticClass:"lt-md gt-xs",attrs:{vertical:""}}),e("div",{staticClass:"col-12 col-sm-4 col-md-12 col-lg-4 q-py-xs q-px-md"},[e("q-separator",{staticClass:"lt-lg gt-sm"}),e("q-separator",{staticClass:"lt-sm"}),e("div",{staticClass:"row q-pt-xs"},[e("div",{staticClass:"col-6 col-sm-12 col-md-6 col-lg-12"},[e("span",{staticClass:"text-subtitle2"},[t._v("Peso: ")]),e("span",{staticClass:"text-body2"},[t._v(t._s(a.peso+" lb"))])]),e("div",{staticClass:"col-6 col-sm-12 col-md-6 col-lg-12"},[e("span",{staticClass:"text-subtitle2"},[t._v("Estatura: ")]),e("span",{staticClass:"text-body2"},[t._v(t._s(a.estatura+" cm"))])]),e("div",{staticClass:"col-6 col-sm-12 col-md-6 col-lg-12"},[e("span",{staticClass:"text-subtitle2"},[t._v("Temperatura: ")]),e("span",{staticClass:"text-body2"},[t._v(t._s(a.temperatura+" °C"))])]),e("div",{staticClass:"col-6 col-sm-12 col-md-6 col-lg-12"},[e("span",{staticClass:"text-subtitle2"},[t._v("IMC: ")]),e("span",{staticClass:"text-body2"},[t._v(t._s(a.imc+" kg/m2"))])]),e("div",{staticClass:"col-12"},[e("span",{staticClass:"text-subtitle2"},[t._v("Presion arterial: ")]),e("span",{staticClass:"text-body2"},[t._v(t._s(a.presionArterial+" mmHg"))])])])],1)],1),e("q-separator"),e("div",{staticClass:"row items-center"},[void 0!=a.proximaCita?e("div",[null!=a.proximaCita&&""!=a.proximaCita?e("div",{staticClass:"col-auto q-pa-sm"},[t._v("\n                Proxima cita: "+t._s(t.formatoFecha(a.proximaCita))+"\n              ")]):e("div",{staticClass:"col-auto q-pa-sm"},[t._v("\n                Proxima cita: No se programo cita.\n              ")])]):e("div",{staticClass:"col-auto q-pa-sm"},[t._v("\n                Proxima cita: No se programo cita.\n            ")]),e("q-space"),e("div",{staticClass:"col-auto q-py-xs q-px-sm"},[e("q-btn",{attrs:{flat:"",size:"md",color:"secondary",dense:"",to:"/editar-consulta/"+a.id}},[t._v("Editar")])],1)],1)],1)],1)],1)})),0):t._e(),t.consultas.length>0?e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col-auto"},[e("q-pagination",{attrs:{max:t.max,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward"},on:{input:t.cambiarPagina},model:{value:t.pagina,callback:function(a){t.pagina=a},expression:"pagina"}})],1)]):e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 text-center text-h5"},[t._v("\n      El paciente no tiene consultas registradas\n    ")])])])},J=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("h4",{staticClass:"text-h4"},[t._v("Consultas")])])}],V={props:{consultas:Array},data:()=>({tab:[],pagina:1,max:1,consultasPagina:[],nConsultasPagina:4}),methods:{cambiarPagina(){this.consultasPagina.splice(0,this.consultasPagina.length);for(let t=(this.pagina-1)*this.nConsultasPagina;t<this.pagina*this.nConsultasPagina;t++)this.consultas.length>=t+1&&this.consultasPagina.push(this.consultas[t]);this.consultasPagina.forEach(((t,a)=>{this.tab.push("sintomas"+a)}))}},computed:{formatoFecha(){return t=>c["b"].isValid(t)?c["b"].formatDate(t,"DD/MM/YYYY"):c["b"].formatDate(new Date(1e3*t.seconds),"DD/MM/YYYY")}},watch:{consultas(t,a){this.max=Math.ceil(this.consultas.length/this.nConsultasPagina);for(let e=0;e<this.nConsultasPagina;e++)this.consultas.length>=e+1&&this.consultasPagina.push(this.consultas[e]);this.consultasPagina.forEach(((t,a)=>{this.tab.push("sintomas"+a)}))}}},U=V,W=e("f09f"),K=e("3b73"),X=e("eb85"),Z=e("429b"),tt=e("7460"),at=e("4983"),et=e("adad"),st=e("823b"),it=e("2c91"),nt=e("3b16"),ot=Object(p["a"])(U,B,J,!1,null,null,null),ct=ot.exports;y()(ot,"components",{QCard:W["a"],QExpansionItem:K["a"],QItemSection:q["a"],QSeparator:X["a"],QTabs:Z["a"],QTab:tt["a"],QScrollArea:at["a"],QTabPanels:et["a"],QTabPanel:st["a"],QSpace:it["a"],QBtn:u["a"],QPagination:nt["a"]});var rt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"q-ma-md"},[t._m(0),t.consultas.length>0?e("div",{staticClass:"row"},t._l(t.consultasPagina,(function(a,s){return e("div",{key:a.id,staticClass:"col-12 col-lg-6 q-pa-sm"},[e("q-card",{attrs:{flat:"",bordered:""}},[e("q-expansion-item",{scopedSlots:t._u([{key:"header",fn:function(){return[e("q-item-section",{staticClass:"text-body2 text-center"},[t._v("\n              "+t._s(t.formatoFecha(a.fecha))+"\n            ")])]},proxy:!0}],null,!0)},[e("q-separator"),e("div",{staticClass:"row"},[e("div",{staticClass:"col q-pl-sm q-px-md q-py-xs"},[e("q-scroll-area",{staticStyle:{height:"150px"}},[e("div",{staticClass:"text-h6 q-mb-md"},[t._v("Receta")]),e("div",{staticClass:"text-body2",domProps:{innerHTML:t._s(a.receta)}}),e("div",{staticStyle:{visibility:"hidden"}},[e("div",{attrs:{id:"text"}},[e("div",{staticClass:"q-mx-md",staticStyle:{color:"black","margin-top":"65px","margin-bottom":"65px",width:"100%"}},[e("hr"),e("p",{staticStyle:{height:"120px",width:"300px"},domProps:{innerHTML:t._s(a.receta)}}),e("hr")])])])])],1),e("div",{staticClass:"col-1"},[e("q-btn",{staticClass:"absolute-top-right q-mt-xl q-mx-md",attrs:{round:"",color:"red",icon:"picture_as_pdf"},on:{click:function(e){return t.generarPDF(a)}}})],1),e("div",{staticClass:"col-1"},[e("q-btn",{staticClass:"absolute-bottom-right q-mb-xl q-mx-md",attrs:{round:"",color:"light-blue-3",icon:"print"},on:{click:function(a){t.bar1=!0,t.indexSelect=s}}},[e("q-tooltip",[t._v(" Imprimir receta ")])],1)],1)]),e("q-separator"),e("div",{staticClass:"row items-center"},[void 0!=a.proximaCita?e("div",[null!=a.proximaCita&&""!=a.proximaCita?e("div",{staticClass:"col-auto q-pa-sm"},[t._v("\n                Proxima cita: "+t._s(t.formatoFecha(a.proximaCita))+"\n              ")]):e("div",{staticClass:"col-auto q-pa-sm"},[t._v("\n                Proxima cita: No se programo cita.\n              ")])]):e("div",{staticClass:"col-auto q-pa-sm"},[t._v("\n              Proxima cita: No se programo cita.\n            ")]),e("q-space"),e("div",{staticClass:"col-auto q-py-xs q-px-sm"},[e("q-btn",{attrs:{flat:"",size:"md",color:"secondary",dense:"",to:"/editar-consulta/"+a.id}},[t._v("Editar")]),e("q-dialog",{attrs:{persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},model:{value:t.bar1,callback:function(a){t.bar1=a},expression:"bar1"}},[e("q-card",{staticClass:"bg-primary text-white"},[e("q-bar",[e("q-icon",{staticClass:"q-mx-sm",attrs:{name:"print"}}),t._v("\n                    Seleccione el metodo de impresion\n\n                    "),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[e("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),e("q-card-section",{staticClass:"bg-white"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-6"},[e("recetas-membrete",{attrs:{consul:a,id:t.indexSelect}})],1),e("div",{staticClass:"col-6"},[e("q-btn",{staticClass:"q-mx-xl",staticStyle:{"min-width":"25vh"},attrs:{color:"dark",label:"Sin membrete"},on:{click:function(a){t.bar2=!0,t.bar1=!1}}})],1)])])],1)],1)],1)],1)],1)],1)],1)})),0):t._e(),t.consultas.length>0?e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col-auto"},[e("q-pagination",{attrs:{max:t.max,"direction-links":"","boundary-links":"","icon-first":"skip_previous","icon-last":"skip_next","icon-prev":"fast_rewind","icon-next":"fast_forward"},on:{input:t.cambiarPagina},model:{value:t.pagina,callback:function(a){t.pagina=a},expression:"pagina"}})],1)]):e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 text-center text-h5"},[t._v("\n      El paciente no tiene recetas registradas\n    ")])]),e("q-dialog",{attrs:{persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},model:{value:t.bar2,callback:function(a){t.bar2=a},expression:"bar2"}},[e("q-card",{staticClass:"bg-primary text-white"},[e("q-bar",[e("q-icon",{staticClass:"q-mx-sm",attrs:{name:"print"}}),t._v("\n        La impresión será sin membrete ¿Estás Seguro?\n\n        "),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[e("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),e("q-card-section",{staticClass:"bg-white"},[e("q-btn",{staticClass:"q-mx-xl",attrs:{unelevated:"",color:"dark",label:"Seguir"},on:{click:function(a){return t.sinMembrete()}}}),e("q-btn",{staticClass:"q-mx-xl",attrs:{unelevated:"",color:"grey-8",label:"Cancelar"},on:{click:function(a){t.bar2=!1}}})],1)],1)],1),e("q-dialog",{attrs:{persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},model:{value:t.modalPdf,callback:function(a){t.modalPdf=a},expression:"modalPdf"}},[e("q-card",{staticClass:"bg-primary text-white"},[e("q-bar",[e("q-icon",{staticClass:"q-mx-sm",attrs:{name:"picture_as_pdf"}}),t._v("\n        ¿Desea visualizar o guardar?\n        "),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[e("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Cerrar")])],1)],1),e("q-card-section",{staticClass:"bg-white justify-between"},[e("div",{staticClass:"row justify-between"},[e("q-btn",{staticClass:"q-ma-sm inline",attrs:{unelevated:"",color:"secondary",label:"Visualizar"},on:{click:t.visualizar}}),e("q-btn",{staticClass:"q-ma-sm inline",attrs:{unelevated:"",color:"secondary",label:"Guardar"},on:{click:t.guardar}})],1)])],1)],1)],1)},lt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("h4",{staticClass:"text-h4"},[t._v("Recetas")])])}],dt=e("8baf"),mt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"contenedor"},[e("q-btn",{staticClass:"q-mx-xl",staticStyle:{"min-width":"25vh"},attrs:{color:"dark",label:"Con membrete"},on:{click:function(a){t.bar2=!0,t.bar1=!1}}}),e("q-dialog",{attrs:{persistent:"","transition-show":"flip-down","transition-hide":"flip-up"},model:{value:t.bar2,callback:function(a){t.bar2=a},expression:"bar2"}},[e("q-card",{staticClass:"bg-primary text-white"},[e("q-bar",[e("q-icon",{staticClass:"q-mx-sm",attrs:{name:"print"}}),t._v("\n        La impresión será con membrete ¿Estás Seguro?\n\n        "),e("q-space"),e("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{dense:"",flat:"",icon:"close"}},[e("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Close")])],1)],1),e("q-card-section",{staticClass:"bg-white"},[e("q-btn",{staticClass:"q-mx-xl",attrs:{unelevated:"",color:"dark",label:"Seguir"},on:{click:t.generarPdf}}),e("q-btn",{staticClass:"q-mx-xl",attrs:{unelevated:"",color:"grey-8",label:"Cancelar"},on:{click:function(a){t.bar2=!1}}})],1)],1)],1),e("div",{staticStyle:{width:"1130px",height:"980px",display:"none"}},[e("div",{ref:"targetHtml",staticStyle:{width:"1130px",height:"980px"},attrs:{id:"target"}},[e("div",{staticClass:"content"},[e("img",{staticStyle:{width:"100%",height:"250px",left:"100%","object-fit":"contain"},attrs:{src:t.encabezado}})]),e("hr"),e("div",{staticClass:"content",staticStyle:{"padding-left":"30px",height:"510px",width:"1130px"}},[e("div",{staticClass:"row",staticStyle:{"font-size":"25px",width:"100%"}},[e("div",{staticClass:"col"},[e("center",[e("label",[e("strong",[t._v("Dr. "+t._s(t.medico.nombre)+" ")])]),e("br")])],1)]),e("div",{staticClass:"row",staticStyle:{"font-size":"20px"}},[e("div",{staticClass:"col"},[e("label",[e("b",[t._v("Paciente: ")]),t._v(" "+t._s(t.paciente.nombre)+" ")]),e("br")]),e("div",{staticClass:"col"},[e("label",[e("b",[t._v("Fecha: ")]),t._v(" "+t._s(t.fecha))])])]),t._m(0),e("div",{staticStyle:{"font-size":"15px"}},[e("p",{domProps:{innerHTML:t._s(t.consul.receta)}})]),e("img",{staticStyle:{top:"100%",width:"25%",height:"100px","object-fit":"contain",float:"right","text-align":"right"},attrs:{src:t.firmaDigital}}),e("h5",{staticStyle:{top:"100%"}},[t._v("\n          Proxima cita: "+t._s(t.consul.proximaCita)+"\n        ")])]),e("hr"),e("div",{staticClass:"content",staticStyle:{height:"80%"}},[e("img",{staticStyle:{width:"100%",height:"220px","object-fit":"contain",position:"fixed"},attrs:{src:t.pieDePagina}})])])]),e("br")],1)},pt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("h3",[e("b",[t._v("Receta")])])}],ut=e("fc1b"),ft={name:"RecetasMembrete",props:{consul:{type:Object,required:!0},id:{type:Number,default:null}},data(){return{paciente:"",medico:"",bar2:!1,bar1:!1,recetas:"",fecha:"",encabezado:"",firmaDigital:"",pieDePagina:"",consultasPagina:[],nConsultasPagina:4,indexSelect:null}},created(){this.traerDatosPaciente(),console.log("el id es: "+this.id),this.traerImg(),this.fecha=this.consul.fecha.toDate(),this.darFormatoFecha(this.fecha)},methods:{traerImg(){let t=this;ut["b"].collection("medicos").doc(localStorage.getItem("id_doctor")).get().then((a=>{if(a.exists){let e=a.data();t.encabezado=e.fotoEncabezado,t.firmaDigital=e.fotoFirmaDigital,t.pieDePagina=e.fotoPieDePagina}})).catch((t=>{}))},mostrar(){let t=ut["b"].collection("consultas").doc(this.id);this.recetas=t.get().then((t=>{t.exists&&(console.log("datos: "+t),this.recetas=t.data(),console.log("la receta dentro de mostrar:"+this.recetas),this.fecha=this.recetas.fecha.toDate(),this.darFormatoFecha(this.fecha))}))},darFormatoFecha(t){const a=t.getFullYear().toString(),e=t.getMonth().toString(),s=t.getDate().toString();this.fecha=s+"-"+e+"-"+a},mostrarid(){console.log(this.id)},generarPdf(){var t=new dt["a"]({orientation:"l",unit:"px",format:[1130,1e3]});let a=document.querySelectorAll("#target");console.log("el id es a inmprimir: "+this.id),t.html(a[this.id],{callback:function(t){t.save("Receta_Membrete.pdf")}}),this.bar2=!1},async traerDatosPaciente(){const t=await ut["b"].collection("pacientes").doc(this.consul.idPaciente).get();this.paciente=t.data();const a=await ut["b"].collection("medicos").doc(t.data().idMedico).get();this.medico=a.data()}}},ht=ft,bt=e("24e8"),vt=e("d847"),gt=e("05c0"),xt=e("a370"),Ct=Object(p["a"])(ht,mt,pt,!1,null,null,null),qt=Ct.exports;y()(Ct,"components",{QBtn:u["a"],QDialog:bt["a"],QCard:W["a"],QBar:vt["a"],QIcon:h["a"],QSpace:it["a"],QTooltip:gt["a"],QCardSection:xt["a"]}),y()(Ct,"directives",{ClosePopup:_["a"]});var _t={components:{RecetasMembrete:qt},props:{consultas:Array},data:()=>({tab:[],pagina:1,max:1,consultasPagina:[],nConsultasPagina:4,bar2:!1,bar1:!1,consultasPaciente:[],indexSelect:null,modalPdf:!1,pdf:new dt["b"],recetaSelected:null}),methods:{cambiarPagina(){this.consultasPagina.splice(0,this.consultasPagina.length);for(let t=(this.pagina-1)*this.nConsultasPagina;t<this.pagina*this.nConsultasPagina;t++)this.consultas.length>=t+1&&this.consultasPagina.push(this.consultas[t]);this.consultasPagina.forEach(((t,a)=>{this.tab.push("sintomas"+a)}))},sinMembrete(){let t=document.querySelectorAll("#text");const a=new dt["b"]({orientation:"l",unit:"px",format:[450,300]});a.html(t[this.indexSelect],{callback:function(t){t.save(" Receta ")}}),this.bar2=!1},generarPDF(t){this.modalPdf=!0,this.recetaSelected=t;const a=new dt["b"]({format:"letter"});var e=ut["b"].collection("medicos").doc(ut["a"].currentUser.uid);e.get().then((t=>{t.exists&&(console.log(t.data()),void 0!=t.data().fotoEncabezado&&null!=t.data().fotoEncabezado&&""!=t.data().fotoEncabezado&&a.addImage(t.data().fotoEncabezado,"PNG",0,0,216,30),void 0!=t.data().fotoFirmaDigital&&null!=t.data().fotoFirmaDigital&&""!=t.data().fotoFirmaDigital&&a.addImage(t.data().fotoFirmaDigital,"PNG",160,220,40,20),void 0!=t.data().fotoPieDePagina&&null!=t.data().fotoPieDePagina&&""!=t.data().fotoPieDePagina&&a.addImage(t.data().fotoPieDePagina,"PNG",0,250,216,30))})),a.setFontSize(18),a.text("Receta",15,40),a.html(t.receta,{x:15,y:50}),this.pdf=a},guardar(){this.pdf.save("Receta - "+this.formatoFecha(this.recetaSelected.fecha)),this.modalPdf=!1},visualizar(){window.open(this.pdf.output("bloburl",{filename:"receta"}),"_blank"),this.modalPdf=!1}},computed:{formatoFecha(){return t=>c["b"].isValid(t)?c["b"].formatDate(t,"DD/MM/YYYY"):c["b"].formatDate(new Date(1e3*t.seconds),"DD/MM/YYYY")}},watch:{consultas(t,a){this.max=Math.ceil(this.consultas.length/this.nConsultasPagina);for(let e=0;e<this.nConsultasPagina;e++)this.consultas.length>=e+1&&this.consultasPagina.push(this.consultas[e]);this.consultasPagina.forEach(((t,a)=>{this.tab.push("sintomas"+a)}))}}},Pt=_t,yt=Object(p["a"])(Pt,rt,lt,!1,null,null,null),wt=yt.exports;y()(yt,"components",{QCard:W["a"],QExpansionItem:K["a"],QItemSection:q["a"],QSeparator:X["a"],QScrollArea:at["a"],QBtn:u["a"],QTooltip:gt["a"],QSpace:it["a"],QDialog:bt["a"],QBar:vt["a"],QIcon:h["a"],QCardSection:xt["a"],QPagination:nt["a"]}),y()(yt,"directives",{ClosePopup:_["a"]});var St=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"q-ma-md"},[t._m(0),e("q-editor",{attrs:{toolbar:[["bold","italic","strike","underline"],[{label:t.$q.lang.editor.fontSize,icon:t.$q.iconSet.editor.fontSize,fixedLabel:!0,fixedIcon:!0,list:"no-icons",options:["size-1","size-2","size-3","size-4","size-5","size-6","size-7"]}]],"min-height":"8rem","max-height":"8rem"},model:{value:t.paciente.enfermedadesCronicas,callback:function(a){t.$set(t.paciente,"enfermedadesCronicas",a)},expression:"paciente.enfermedadesCronicas"}})],1)},kt=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("h4",{staticClass:"text-h4"},[t._v("Enfermedades Crónicas")])])}],Et={props:{paciente:Object}},Dt=Et,$t=Object(p["a"])(Dt,St,kt,!1,null,null,null),zt=$t.exports;y()($t,"components",{QEditor:z["a"]});var Mt=e("45ba"),It={data:()=>({cargando:!0,paciente:null,validacionPaciente:"",consultasPaciente:[]}),components:{InformacionPersonal:S,Antecedentes:I,Alergias:Y,MedicamentosPermanentes:H,Consultas:ct,Recetas:wt,EnfermedadesCronicas:zt,Examenes:Mt["default"]},methods:{guardarInformacion(){let t={antecedentes:this.$refs.refAntecedentes.paciente.antecedentes,alergias:this.$refs.refAlergias.paciente.alergias,medicamentosPermanentes:this.$refs.refMedicamentosPermanentes.paciente.medicamentosPermanentes,EnfermedadesCronicas:this.$refs.refEnfermedadesCronicas.paciente.enfermedadesCronicas,direccion:this.$refs.refInformacionPersonal.paciente.direccion,dui:this.$refs.refInformacionPersonal.paciente.dui,email:this.$refs.refInformacionPersonal.paciente.email,enCasoEmergencia:this.$refs.refInformacionPersonal.paciente.enCasoEmergencia,estatura:this.$refs.refInformacionPersonal.paciente.estatura,fechaNacimiento:this.$refs.refInformacionPersonal.paciente.fechaNacimiento,genero:this.$refs.refInformacionPersonal.paciente.genero,nombre:this.$refs.refInformacionPersonal.paciente.nombre,peso:this.$refs.refInformacionPersonal.paciente.peso,telefono:this.$refs.refInformacionPersonal.paciente.telefono,tipoSangre:this.$refs.refInformacionPersonal.paciente.tipoSangre,whatsapp:this.$refs.refInformacionPersonal.paciente.whatsapp},a=this.$router.currentRoute.params.id;var e=ut["b"].collection("pacientes").doc(a);return e.update(t).then((()=>{this.$q.notify({message:"Información actualizada",color:"green-4",textColor:"white",icon:"cloud_done"})})).catch((t=>{this.$q.notify({type:"negative",message:"Error al actualizar información"})}))},obtenerDatosPaciente(){let t=this.$router.currentRoute.params.id;var a=ut["b"].collection("pacientes").doc(t);a.get().then((t=>{t.exists?t.data().idMedico==ut["a"].currentUser.uid?(this.paciente=t.data(),this.paciente.fechaNacimiento=c["b"].formatDate(this.paciente.fechaNacimiento,"DD/MM/YYYY")):this.paciente="No pertece al medico":this.paciente=null})).catch((t=>{})).finally((()=>{this.cargando=!1}))},obtenerConsultas(){ut["b"].collection("consultas").where("idPaciente","==",this.$router.currentRoute.params.id).get().then((t=>{t.docs.forEach((t=>{let a=t.data();Object.defineProperty(a,"id",{value:t.id,writable:!0,enumerable:!0,configurable:!0}),this.consultasPaciente.push(a),this.consultasPaciente.reverse()}))}))}},created(){this.obtenerDatosPaciente(),this.obtenerConsultas()}},Qt=It,Gt=e("74f7"),jt=e("a6a3"),Ft=Object(p["a"])(Qt,s,i,!1,null,null,null);a["default"]=Ft.exports;y()(Ft,"components",{QInnerLoading:Gt["a"],QSpinnerCube:jt["a"],QBtn:u["a"],QSeparator:X["a"]})}}]);