(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{6287:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-layout",{attrs:{view:"lHh LpR lFf"},on:{scroll:t.onScroll}},[e("Menu",{ref:"menu"}),e("q-page-container",[e("q-page",{staticClass:"q-pt-none",attrs:{padding:""}},[e("div",{attrs:{id:"pasar-consulta"}},[e("div",{staticClass:"row items-center"},[e("div",{staticClass:"col-12 col-sm-7 justify-between"},[e("h2",{staticClass:"text-h2"},[t._v("Editar Consulta")])]),e("div",{staticClass:"col-12 col-sm-5 column justify-center"},[e("q-btn",{staticClass:"q-my-sm",attrs:{color:"primary",icon:"keyboard_arrow_left"},on:{click:function(a){return t.obtenerIdPaciente()}}},[t._v("\n              Regresar al expediente\n              "),e("q-tooltip",{attrs:{"content-class":"bg-accent text-white","content-style":"font-size: 12px",anchor:"top left",self:"bottom left",offset:[0,8]}},[t._v("Regresar al expediente")])],1),e("q-btn",{staticClass:"q-my-sm",attrs:{color:"secondary",icon:"save",type:"submit"},on:{click:function(a){return t.guardarConsulta()}}},[t._v("\n              Editar Consulta\n              "),e("q-tooltip",{attrs:{"content-class":"bg-accent text-white","content-style":"font-size: 12px",anchor:"top left",self:"bottom left",offset:[0,8]}},[t._v("Registrar una nueva consulta")])],1)],1)]),e("q-form",{ref:"consultaForm"},[e("div",{staticClass:"row justify-center"},[e("q-input",{staticClass:"q-mx-md q-my-md",staticStyle:{"max-width":"7rem","min-width":"5rem"},attrs:{type:"number",min:"0",outlined:"",suffix:"lb",label:"peso",required:""},model:{value:t.form_data.peso,callback:function(a){t.$set(t.form_data,"peso",a)},expression:"form_data.peso"}}),e("q-input",{staticClass:"q-mx-md q-my-md",staticStyle:{"max-width":"7rem","min-width":"5rem"},attrs:{type:"number",min:"0",outlined:"",suffix:"cm",label:"estatura",required:""},model:{value:t.form_data.estatura,callback:function(a){t.$set(t.form_data,"estatura",a)},expression:"form_data.estatura"}}),e("q-input",{staticClass:"q-mx-md q-my-md",staticStyle:{"max-width":"7rem","min-width":"5rem"},attrs:{type:"number",min:"0",outlined:"",suffix:"°C",label:"temperatura",required:""},model:{value:t.form_data.temperatura,callback:function(a){t.$set(t.form_data,"temperatura",a)},expression:"form_data.temperatura"}}),e("q-input",{staticClass:"q-mx-md q-my-md",staticStyle:{"max-width":"7rem","min-width":"5rem"},attrs:{type:"number",min:"0",outlined:"",suffix:"kg/m2",label:"imc",required:""},model:{value:t.form_data.imc,callback:function(a){t.$set(t.form_data,"imc",a)},expression:"form_data.imc"}}),e("q-input",{staticClass:"q-mx-md q-my-md",staticStyle:{width:"8rem","min-width":"7rem"},attrs:{mask:"###/##",min:"0",outlined:"",suffix:"mmHg",label:"presión",required:""},model:{value:t.form_data.presionArterial,callback:function(a){t.$set(t.form_data,"presionArterial",a)},expression:"form_data.presionArterial"}})],1),e("div",{staticClass:"row justify-center"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"q-pa-md q-gutter-sm"},[e("p",[t._v("Motivo de Consulta")]),e("q-input",{attrs:{filled:"",label:"Motivo de consulta",type:"textarea",required:""},model:{value:t.form_data.motivoConsulta,callback:function(a){t.$set(t.form_data,"motivoConsulta",a)},expression:"form_data.motivoConsulta"}}),e("p",[t._v("Sintomas")]),e("q-editor",{attrs:{toolbar:t.toolbar,"min-height":"7rem",required:""},model:{value:t.form_data.sintomas,callback:function(a){t.$set(t.form_data,"sintomas",a)},expression:"form_data.sintomas"}}),e("p",[t._v("Diagnostico")]),e("q-editor",{attrs:{toolbar:t.toolbar,"min-height":"7rem",required:""},model:{value:t.form_data.diagnostico,callback:function(a){t.$set(t.form_data,"diagnostico",a)},expression:"form_data.diagnostico"}})],1)]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"q-pa-md q-gutter-sm"},[e("p",[t._v("Exploracion fisica")]),e("q-editor",{attrs:{toolbar:t.toolbar,"min-height":"7rem",required:""},model:{value:t.form_data.exploracionFisica,callback:function(a){t.$set(t.form_data,"exploracionFisica",a)},expression:"form_data.exploracionFisica"}}),e("p",[t._v("Examenes")]),e("q-editor",{attrs:{toolbar:t.toolbar,"min-height":"7rem",required:""},model:{value:t.form_data.examenes,callback:function(a){t.$set(t.form_data,"examenes",a)},expression:"form_data.examenes"}}),e("p",[t._v("Recetas")]),e("q-editor",{attrs:{toolbar:t.toolbar,"min-height":"7rem",required:""},model:{value:t.form_data.receta,callback:function(a){t.$set(t.form_data,"receta",a)},expression:"form_data.receta"}})],1)])])]),e("hr",{staticClass:"lt-md"}),e("div",{staticClass:"row justify-center items-baseline"},[e("q-input",{staticClass:"q-my-sm",staticStyle:{"margin-left":"auto","margin-right":"auto"},attrs:{dense:"",filled:"",type:"date",label:"Próxima Cita","stack-label":"",required:""},model:{value:t.form_data.proximaCita,callback:function(a){t.$set(t.form_data,"proximaCita",a)},expression:"form_data.proximaCita"}}),e("q-btn",{staticClass:"q-my-sm",staticStyle:{"margin-left":"auto","margin-right":"auto"},attrs:{color:"primary",icon:"keyboard_arrow_left"},on:{click:function(a){return t.obtenerIdPaciente()}}},[t._v("\n              Regresar al expediente\n              "),e("q-tooltip",{attrs:{"content-class":"bg-accent text-white","content-style":"font-size: 12px",anchor:"top left",self:"bottom left",offset:[0,8]}},[t._v("Regresar al expediente")])],1),e("q-btn",{staticClass:"q-my-sm",staticStyle:{"margin-left":"auto","margin-right":"auto"},attrs:{color:"secondary",icon:"save",type:"submit"},on:{click:function(a){return t.guardarConsulta()}}},[t._v("\n              Editar Consulta\n              "),e("q-tooltip",{attrs:{"content-class":"bg-accent text-white","content-style":"font-size: 12px",anchor:"top left",self:"bottom left",offset:[0,8]}},[t._v("Registrar una nueva consulta")])],1)],1)],1)])],1)],1)},r=[],i=e("52e4"),s=e("a3eb"),n=e("fb62"),l=e("fc1b"),c={components:{perfil:i["a"],Examenes:s["default"],Menu:n["a"]},data(){return{error:!1,drawerRight:!1,scrollInfo:{},spyMovil:!1,form_data:{},toolbar:[["bold","italic","strike","underline"],["unordered","ordered","outdent","indent"]]}},async created(){const t=await this.obtenerConsulta();this.form_data=t,console.info(this.form_data)},methods:{async obtenerConsulta(){let t=this.$router.currentRoute.params.id;const a=await l["b"].collection("consultas").doc(t).get();if(a.exists)return a.data();this.$router.push(`consulta-no-encontrada/${this.$router.currentRoute.params.id}`)},obtenerIdPaciente(){this.$router.push("/paciente/"+this.form_data.idPaciente)},validar(){void 0===this.form_data.proximaCita?this.error=!0:(this.form_data.proximaCita=this.form_data.proximaCita.toString(),this.error=!1)},showNotif(t,a,e){this.$q.notify({message:t,color:a,timeout:1e3,icon:e,position:"top"})},guardarConsulta(){this.validar,this.$refs.consultaForm.validate().then((t=>{if(!0===this.error)this.showNotif("Necesita rellenar los campos requeridos.","negative","close");else try{this.$q.loading.show();l["b"].collection("consultas").doc(this.$router.currentRoute.params.id).set(this.form_data);this.showNotif("Se ha guardado la consulta","positive","check"),this.$router.push("/paciente/"+this.form_data.idPaciente)}catch(a){console.error(a)}finally{this.$q.loading.hide()}}))},onScroll(t){0==this.spyMovil&&(this.scrollInfo=t)},test(){this.spyMovil=!0,this.drawerRight=!this.drawerRight}}},m=c,d=e("2877"),u=e("4d5a"),f=e("e359"),p=e("65c6"),h=e("9c40"),b=e("6ac5"),_=e("9404"),q=e("09e3"),v=e("9989"),x=e("05c0"),y=e("27f9"),g=e("0378"),C=e("d66b"),w=e("eebe"),k=e.n(w),$=Object(d["a"])(m,o,r,!1,null,"e25ad0c2",null);a["default"]=$.exports;k()($,"components",{QLayout:u["a"],QHeader:f["a"],QToolbar:p["a"],QBtn:h["a"],QToolbarTitle:b["a"],QDrawer:_["a"],QPageContainer:q["a"],QPage:v["a"],QTooltip:x["a"],QInput:y["a"],QForm:g["a"],QEditor:C["a"]})}}]);